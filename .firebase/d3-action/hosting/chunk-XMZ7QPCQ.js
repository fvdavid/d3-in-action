import{d as h,f as c,k as l,l as d}from"./chunk-IVKNQDWJ.js";import{a as p,b as m}from"./chunk-HMR6D4PY.js";import"./chunk-KIRPRCXL.js";import"./chunk-7X44HFL5.js";import{Wa as i,qb as r,rb as s,sb as o}from"./chunk-Q3C673SS.js";import"./chunk-JKOY2XUY.js";var g=class a{margin={top:10,right:10,bottom:10,left:10};width=445-this.margin.left-this.margin.right;height=445-this.margin.top-this.margin.bottom;svg;ngOnInit(){this.getTheData()}getTheData(){c("https://raw.githubusercontent.com/fvdavid/d3-in-action/refs/heads/main/data/data_hierarchy_level1.csv").then(n=>{this.createSvg(n)})}createSvg(n){this.svg=h("figure#treemap").append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");let e=l().id(function(t){return t.name}).parentId(function(t){return t.parent})(n);e.sum(function(t){return+t.value}),d().size([this.width,this.height]).padding(4)(e),this.svg.selectAll("rect").data(e.leaves()).enter().append("rect").attr("x",function(t){return t.x0}).attr("y",function(t){return t.y0}).attr("width",function(t){return t.x1-t.x0}).attr("height",function(t){return t.y1-t.y0}).style("stroke","black").style("fill","#69b3a2"),this.svg.selectAll("text").data(e.leaves()).enter().append("text").attr("x",function(t){return t.x0+10}).attr("y",function(t){return t.y0+20}).text(function(t){return t.data.name}).attr("font-size","15px").attr("fill","white")}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=i({type:a,selectors:[["app-treemap"]],decls:4,vars:0,consts:[[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","xl:col-span-12"],[1,"card"],["id","treemap"]],template:function(e,t){e&1&&(r(0,"p-fluid",0)(1,"div",1)(2,"div",2),o(3,"figure",3),s()()())},dependencies:[m,p],encapsulation:2})};export{g as TreemapComponent};
